<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
          
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Create Project</title>
    </h:head>
    <h:body>
        <b:container>
            <h2>Create project</h2>
            <b:form>
                <b:label text="Project Title"/>
                <b:inputText value="#{projectCreateController.projectTitle}" placeholder="Enter project title here"></b:inputText>
                <b:label text="Project Owner (id)"/> 
                <b:selectMultiMenu value="#{projectCreateController.projectOwners}">
                    <f:selectItems value="#{projectEditController.users}" var="owner" itemLabel="#{owner.name}" itemValue="#{owner.idString}"/>
                </b:selectMultiMenu>
                <b:label text="Project Description"/>
                <b:inputTextarea value="#{projectCreateController.projectDescription}" placeholder="Enter project description here"></b:inputTextarea> 
  
                <b:commandButton action="#{homeController.prepareProjectSearch}">Projects Home</b:commandButton>
                <b:commandButton action="#{projectCreateController.createProject}">Create project</b:commandButton>
            </b:form>
            
            <b:accordion>
                    <b:panel title="Attributes">
                        <ui:repeat value="#{projectCreateController.attributes}" var="attribute">
                        <!--TODO: Add attribute.type -->
                        <b:panel><label>Link: </label><a href="#{attribute.httpLink}">#{attribute.httpLink}</a></b:panel>
                        <b:form>
                        <b:panel><b:commandButton action="#{projectCreateController.removeAttribute(attribute.id)}">Remove attribute</b:commandButton></b:panel>
                        </b:form>
                    </ui:repeat>
                        <b:panel>
                            <b:form>
                                <b:label text="Add Attribute"/>
                                <b:inputText placeholder="Enter link" value="#{projectCreateController.attributeString}"></b:inputText>
                                <b:commandButton action="#{projectCreateController.addAttribute}">Add Attribute</b:commandButton>  
                            </b:form>

                        </b:panel>
                    </b:panel>
            </b:accordion>
        </b:container>
        
    </h:body>
</html>

